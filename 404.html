<!DOCTYPE html>
<html>
<head>
    <script>
        const currentUrl = window.location.href;
        
        function extractBaseUrl(url) {
            try {
                const parsedUrl = new URL(url);
                return parsedUrl.origin + parsedUrl.pathname;
            } catch {
                return url;
            }
        }
        
        if (currentUrl.includes('/404.html') || currentUrl.includes('/404')) {
            const urlParams = new URLSearchParams(window.location.search);
            const originalUrl = urlParams.get('url');
            
            if (originalUrl) {
                const baseOriginalUrl = extractBaseUrl(decodeURIComponent(originalUrl));
                window.location.href = `/404?url=${encodeURIComponent(baseOriginalUrl)}`;
            } else {
                window.location.href = '/';
            }
        } else {
            window.location.href = `/404?url=${encodeURIComponent(currentUrl)}`;
        }
    </script>
</head>
<body>
    Redirecting...
</body>
</html>